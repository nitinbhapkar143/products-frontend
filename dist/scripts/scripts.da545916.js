"use strict";const baseUrl="http://localhost:3000/";angular.module("productApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(t,r){t.state({title:"product",name:"product",url:"/product",controller:"productCtrl",templateUrl:"views/product.html"}),r.otherwise("/product")}]),angular.module("productApp").controller("productCtrl",["$scope","productService",function(t,r){t.loading=!0,t.search={},r.getProducts().then(function(r){t.products=r.products,t.loading=!1}),t.filter=function(){t.search.searchString&&(t.errorMessage=!1,t.loading=!0,r.searchProducts(t.search.searchString).then(function(r){r.status?(t.products=r.products,t.errorMessage=!1):(t.products=[],t.errorMessage=r.message),t.loading=!1}))},t.clear=function(){t.errorMessage=!1,t.search.searchString="",t.loading=!0,r.getProducts().then(function(r){t.products=r.products,t.loading=!1})}}]);class productService{constructor(t){this.$http=t}getProducts(){return this.$http.get(baseUrl+"products/products").then(function(t){return t.data})}searchProducts(t){return this.$http.post(baseUrl+"products/search",{searchString:t}).then(function(t){return t.data})}}productService.$inject=["$http"],angular.module("productApp").service("productService",productService),angular.module("productApp").run(["$templateCache",function(t){t.put("views/product.html",'<div class="container" ng-if="!loading"> <div class="flex-row flex-center mt10"> <input type="text" ng-model="search.searchString" class="text-box mr10"> <button ng-click="filter()" class="search button mr10">Search</button> <button ng-click="clear()" class="reset button mr10">Clear</button> <p class="error-text" ng-show="errorMessage">{{errorMessage}}</p> </div> <table class="table"> <thead> <tr> <th>Product Name</th> <th>Price</th> </tr> </thead> </table> <table class="table" ng-if="products.length"> <tbody> <tr ng-repeat="product in products"> <td>{{product.title}}</td> <td>{{product.price}}</td> </tr> </tbody> </table> <p ng-if="!products.length">No products found for search query.</p> </div> <div class="container" ng-if="loading"> <p>Loading....</p> </div> <style>.flex-row {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .flex-center {\n    justify-content: center\n  }\n\n  .flex-center-vertical {\n    align-items: center\n  }\n\n  .mt10 {\n    margin-top: 10px;\n  }\n\n  .mr10 {\n    margin-right: 10px;\n  }\n\n  .text-box {\n    width: 300px;\n    background: #fff;\n    border: 1px #ccc solid;\n    border-radius: 5px;\n    font-size: 15px;\n    line-height: 15px;\n    height: 30px;\n  }\n\n  .button {\n    height: 30px;\n  }\n\n  .error-message {\n    border: 1px solid red;\n    height: 30px;\n  }\n\n  .error-text {\n    color: #cc0033;\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 13px;\n    font-weight: bold;\n    line-height: 30px;\n    text-shadow: 1px 1px rgba(250, 250, 250, .3);\n  }</style>')}]);